name: CI Pipeline
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

# –ß—Ç–æ –¥–µ–ª–∞—Ç—å
jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    # –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥
    - name: Checkout code
      uses: actions/checkout@v4
    
    # –®–∞–≥ 2: –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
    - name: Show info
      run: |
        echo "üéâ CI Pipeline –∑–∞–ø—É—â–µ–Ω!"
        echo "üì¶ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: ${{ github.repository }}"
        echo "üåø –í–µ—Ç–∫–∞: ${{ github.ref_name }}"
        echo "üìù –ö–æ–º–º–∏—Ç: ${{ github.sha }}"
        echo ""
        echo "üìÅ –§–∞–π–ª—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:"
        ls -la
    
    # –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Dockerfile
    - name: Check Dockerfile
      run: |
        if [ -f Dockerfile ]; then
          echo "‚úÖ Dockerfile –Ω–∞–π–¥–µ–Ω"
          echo "--- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ ---"
          cat Dockerfile
        else
          echo "‚ö†Ô∏è Dockerfile –Ω–µ –Ω–∞–π–¥–µ–Ω"
        fi
